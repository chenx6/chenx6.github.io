{% import "macros/tag_macros.html" as tag_macros %}
{% extends "base.html" %}

{% block content %}
<div class="container">
  <aside class="toc">
    {% if page.toc %}
    <ul>
      {% for h1 in page.toc %}
      <li>
        <a href="{{ h1.permalink | safe }}">{{ h1.title }}</a>
        {% if h1.children %}
        <ul>
          {% for h2 in h1.children %}
          <li>
            <a href="{{ h2.permalink | safe }}">{{ h2.title }}</a>
          </li>
          {% endfor %}
        </ul>
        {% endif %}
      </li>
      {% endfor %}
    </ul>
    {% endif %}
  </aside>
  <div class="post">
    <h2 class="post-title">{{ page.title }}</h1>
      <span class="post-date">{{ page.date | date(format="%Y-%m-%d") }}</span>
      {{ tag_macros::tag_list(page=page) }}
      {{ page.content | safe }}
  </div>
</div>
{% endblock content %}